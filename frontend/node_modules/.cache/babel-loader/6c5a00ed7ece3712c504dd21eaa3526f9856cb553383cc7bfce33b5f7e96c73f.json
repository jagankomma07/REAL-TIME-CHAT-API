{"ast":null,"code":"var _jsxFileName = \"/Users/jagankomma/Documents/real-time chat API/whatsapp-chat/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [user, setUser] = useState('');\n  const [message, setMessage] = useState('');\n  const [messages, setMessages] = useState([]);\n  const [isConnected, setIsConnected] = useState(false);\n  const [showNamePrompt, setShowNamePrompt] = useState(true);\n  const [chatId] = useState('room1');\n  const [isTyping, setIsTyping] = useState(false);\n  const wsRef = useRef(null);\n  const chatBoxRef = useRef(null);\n  const typingTimeoutRef = useRef(null);\n  useEffect(() => {\n    if (chatBoxRef.current) {\n      chatBoxRef.current.scrollTop = chatBoxRef.current.scrollHeight;\n    }\n  }, [messages]);\n  const connectWebSocket = username => {\n    const ws = new WebSocket(`ws://localhost:8000/ws/${chatId}/${username}`);\n    ws.onopen = () => {\n      setIsConnected(true);\n      console.log('Connected to chat');\n    };\n    ws.onmessage = event => {\n      const data = JSON.parse(event.data);\n      if (data.type === 'typing') {\n        setIsTyping(data.isTyping && data.user !== username);\n        if (typingTimeoutRef.current) {\n          clearTimeout(typingTimeoutRef.current);\n        }\n        typingTimeoutRef.current = setTimeout(() => setIsTyping(false), 3000);\n      } else {\n        setMessages(prev => [...prev, {\n          user: data.user,\n          message: data.message,\n          timestamp: new Date().toLocaleTimeString([], {\n            hour: '2-digit',\n            minute: '2-digit'\n          })\n        }]);\n      }\n    };\n    ws.onerror = error => {\n      console.error('WebSocket error:', error);\n    };\n    ws.onclose = () => {\n      setIsConnected(false);\n      console.log('Disconnected from chat');\n    };\n    wsRef.current = ws;\n  };\n  const handleJoinChat = e => {\n    e.preventDefault();\n    if (user.trim()) {\n      setShowNamePrompt(false);\n      connectWebSocket(user.trim());\n    }\n  };\n  const sendMessage = () => {\n    if (message.trim() && wsRef.current && wsRef.current.readyState === WebSocket.OPEN) {\n      wsRef.current.send(message);\n      setMessage('');\n    }\n  };\n  const handleKeyPress = e => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      sendMessage();\n    }\n  };\n  if (showNamePrompt) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"name-prompt-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"name-prompt-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"name-prompt-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"whatsapp-logo\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              viewBox: \"0 0 24 24\",\n              width: \"48\",\n              height: \"48\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                fill: \"#25D366\",\n                d: \"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Welcome to Chat\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Enter your name to join the conversation\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleJoinChat,\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Your name\",\n            value: user,\n            onChange: e => setUser(e.target.value),\n            autoFocus: true,\n            maxLength: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            children: \"Join Chat\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sidebar\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sidebar-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-avatar\",\n          children: user.charAt(0).toUpperCase()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sidebar-icons\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"icon-btn\",\n            title: \"Status\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              viewBox: \"0 0 24 24\",\n              width: \"24\",\n              height: \"24\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                fill: \"currentColor\",\n                d: \"M12 20.664a9.163 9.163 0 0 1-6.521-2.702.977.977 0 0 1 1.381-1.381 7.269 7.269 0 0 0 10.024.244.977.977 0 0 1 1.313 1.445A9.192 9.192 0 0 1 12 20.664zm7.965-6.112a.977.977 0 0 1-.944-1.229 7.26 7.26 0 0 0-4.8-8.804.977.977 0 0 1 .594-1.86 9.212 9.212 0 0 1 6.092 11.169.976.976 0 0 1-.942.724zm-16.025-.39a.977.977 0 0 1-.953-.769 9.21 9.21 0 0 1 6.626-10.86.975.975 0 1 1 .52 1.882l-.015.004a7.259 7.259 0 0 0-5.223 8.558.978.978 0 0 1-.955 1.185z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"icon-btn\",\n            title: \"New chat\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              viewBox: \"0 0 24 24\",\n              width: \"24\",\n              height: \"24\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                fill: \"currentColor\",\n                d: \"M19.005 3.175H4.674C3.642 3.175 3 3.789 3 4.821V21.02l3.544-3.514h12.461c1.033 0 2.064-1.06 2.064-2.093V4.821c-.001-1.032-1.032-1.646-2.064-1.646zm-4.989 9.869H7.041V11.1h6.975v1.944zm3-4H7.041V7.1h9.975v1.944z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"icon-btn\",\n            title: \"Menu\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              viewBox: \"0 0 24 24\",\n              width: \"24\",\n              height: \"24\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                fill: \"currentColor\",\n                d: \"M12 7a2 2 0 1 0-.001-4.001A2 2 0 0 0 12 7zm0 2a2 2 0 1 0-.001 3.999A2 2 0 0 0 12 9zm0 6a2 2 0 1 0-.001 3.999A2 2 0 0 0 12 15z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-bar\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-input-wrapper\",\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            viewBox: \"0 0 24 24\",\n            width: \"24\",\n            height: \"24\",\n            className: \"search-icon\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              fill: \"currentColor\",\n              d: \"M15.009 13.805h-.636l-.22-.219a5.184 5.184 0 0 0 1.256-3.386 5.207 5.207 0 1 0-5.207 5.208 5.183 5.183 0 0 0 3.385-1.255l.221.22v.635l4.004 3.999 1.194-1.195-3.997-4.007zm-4.808 0a3.605 3.605 0 1 1 0-7.21 3.605 3.605 0 0 1 0 7.21z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Search or start new chat\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-list\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chat-item active\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chat-avatar\",\n            children: \"R\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chat-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"chat-header-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: chatId\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"chat-time\",\n                children: \"now\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"chat-preview\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: `status-dot ${isConnected ? 'connected' : 'disconnected'}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 17\n              }, this), isConnected ? 'Connected' : 'Disconnected']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-chat\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chat-header-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chat-avatar\",\n            children: \"R\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: chatId\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"online-status\",\n              children: isTyping ? 'typing...' : isConnected ? 'online' : 'offline'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chat-header-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"icon-btn\",\n            title: \"Search\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              viewBox: \"0 0 24 24\",\n              width: \"24\",\n              height: \"24\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                fill: \"currentColor\",\n                d: \"M15.009 13.805h-.636l-.22-.219a5.184 5.184 0 0 0 1.256-3.386 5.207 5.207 0 1 0-5.207 5.208 5.183 5.183 0 0 0 3.385-1.255l.221.22v.635l4.004 3.999 1.194-1.195-3.997-4.007zm-4.808 0a3.605 3.605 0 1 1 0-7.21 3.605 3.605 0 0 1 0 7.21z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"icon-btn\",\n            title: \"More\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              viewBox: \"0 0 24 24\",\n              width: \"24\",\n              height: \"24\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                fill: \"currentColor\",\n                d: \"M12 7a2 2 0 1 0-.001-4.001A2 2 0 0 0 12 7zm0 2a2 2 0 1 0-.001 3.999A2 2 0 0 0 12 9zm0 6a2 2 0 1 0-.001 3.999A2 2 0 0 0 12 15z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-background\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chat-messages\",\n          ref: chatBoxRef,\n          children: messages.map((msg, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `message ${msg.user === user ? 'sent' : 'received'}`,\n            children: [msg.user !== user && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"message-sender\",\n              children: msg.user\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 39\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"message-content\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: msg.message\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"message-time\",\n                children: msg.timestamp\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 17\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-footer\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"icon-btn\",\n          title: \"Emoji\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            viewBox: \"0 0 24 24\",\n            width: \"24\",\n            height: \"24\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              fill: \"currentColor\",\n              d: \"M9.153 11.603c.795 0 1.439-.879 1.439-1.962s-.644-1.962-1.439-1.962-1.439.879-1.439 1.962.644 1.962 1.439 1.962zm-3.204 1.362c-.026-.307-.131 5.218 6.063 5.551 6.066-.25 6.066-5.551 6.066-5.551-6.078 1.416-12.129 0-12.129 0zm11.363 1.108s-.669 1.959-5.051 1.959c-3.505 0-5.388-1.164-5.607-1.959 0 0 5.912 1.055 10.658 0zM11.804 1.011C5.609 1.011.978 6.033.978 12.228s4.826 10.761 11.021 10.761S23.02 18.423 23.02 12.228c.001-6.195-5.021-11.217-11.216-11.217zM12 21.354c-5.273 0-9.381-3.886-9.381-9.159s3.942-9.548 9.215-9.548 9.548 4.275 9.548 9.548c-.001 5.272-4.109 9.159-9.382 9.159zm3.108-9.751c.795 0 1.439-.879 1.439-1.962s-.644-1.962-1.439-1.962-1.439.879-1.439 1.962.644 1.962 1.439 1.962z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"icon-btn\",\n          title: \"Attach\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            viewBox: \"0 0 24 24\",\n            width: \"24\",\n            height: \"24\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              fill: \"currentColor\",\n              d: \"M1.816 15.556v.002c0 1.502.584 2.912 1.646 3.972s2.472 1.647 3.974 1.647a5.58 5.58 0 0 0 3.972-1.645l9.547-9.548c.769-.768 1.147-1.767 1.058-2.817-.079-.968-.548-1.927-1.319-2.698-1.594-1.592-4.068-1.711-5.517-.262l-7.916 7.915c-.881.881-.792 2.25.214 3.261.959.958 2.423 1.053 3.263.215l5.511-5.512c.28-.28.267-.722.053-.936l-.244-.244c-.191-.191-.567-.349-.957.04l-5.506 5.506c-.18.18-.635.127-.976-.214-.098-.097-.576-.613-.213-.973l7.915-7.917c.818-.817 2.267-.699 3.23.262.5.501.802 1.1.849 1.685.051.573-.156 1.111-.589 1.543l-9.547 9.549a3.97 3.97 0 0 1-2.829 1.171 3.975 3.975 0 0 1-2.83-1.173 3.973 3.973 0 0 1-1.172-2.828c0-1.071.415-2.076 1.172-2.83l7.209-7.211c.157-.157.264-.579.028-.814L11.5 4.36a.572.572 0 0 0-.834.018l-7.205 7.207a5.577 5.577 0 0 0-1.645 3.971z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"message-input-wrapper\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Type a message\",\n            value: message,\n            onChange: e => setMessage(e.target.value),\n            onKeyPress: handleKeyPress\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"send-btn\",\n          onClick: sendMessage,\n          disabled: !message.trim(),\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            viewBox: \"0 0 24 24\",\n            width: \"24\",\n            height: \"24\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              fill: \"currentColor\",\n              d: \"M1.101 21.757L23.8 12.028 1.101 2.3l.011 7.912 13.623 1.816-13.623 1.817-.011 7.912z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 113,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"u2Vcad2ORNmjMhHE9vLrcSSxRX4=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","jsxDEV","_jsxDEV","App","_s","user","setUser","message","setMessage","messages","setMessages","isConnected","setIsConnected","showNamePrompt","setShowNamePrompt","chatId","isTyping","setIsTyping","wsRef","chatBoxRef","typingTimeoutRef","current","scrollTop","scrollHeight","connectWebSocket","username","ws","WebSocket","onopen","console","log","onmessage","event","data","JSON","parse","type","clearTimeout","setTimeout","prev","timestamp","Date","toLocaleTimeString","hour","minute","onerror","error","onclose","handleJoinChat","e","preventDefault","trim","sendMessage","readyState","OPEN","send","handleKeyPress","key","shiftKey","className","children","viewBox","width","height","fill","d","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","placeholder","value","onChange","target","autoFocus","maxLength","charAt","toUpperCase","title","ref","map","msg","index","onKeyPress","onClick","disabled","_c","$RefreshReg$"],"sources":["/Users/jagankomma/Documents/real-time chat API/whatsapp-chat/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport './App.css';\n\nfunction App() {\n  const [user, setUser] = useState('');\n  const [message, setMessage] = useState('');\n  const [messages, setMessages] = useState([]);\n  const [isConnected, setIsConnected] = useState(false);\n  const [showNamePrompt, setShowNamePrompt] = useState(true);\n  const [chatId] = useState('room1');\n  const [isTyping, setIsTyping] = useState(false);\n  \n  const wsRef = useRef(null);\n  const chatBoxRef = useRef(null);\n  const typingTimeoutRef = useRef(null);\n\n  useEffect(() => {\n    if (chatBoxRef.current) {\n      chatBoxRef.current.scrollTop = chatBoxRef.current.scrollHeight;\n    }\n  }, [messages]);\n\n  const connectWebSocket = (username) => {\n    const ws = new WebSocket(`ws://localhost:8000/ws/${chatId}/${username}`);\n    \n    ws.onopen = () => {\n      setIsConnected(true);\n      console.log('Connected to chat');\n    };\n\n    ws.onmessage = (event) => {\n      const data = JSON.parse(event.data);\n      \n      if (data.type === 'typing') {\n        setIsTyping(data.isTyping && data.user !== username);\n        if (typingTimeoutRef.current) {\n          clearTimeout(typingTimeoutRef.current);\n        }\n        typingTimeoutRef.current = setTimeout(() => setIsTyping(false), 3000);\n      } else {\n        setMessages(prev => [...prev, {\n          user: data.user,\n          message: data.message,\n          timestamp: new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })\n        }]);\n      }\n    };\n\n    ws.onerror = (error) => {\n      console.error('WebSocket error:', error);\n    };\n\n    ws.onclose = () => {\n      setIsConnected(false);\n      console.log('Disconnected from chat');\n    };\n\n    wsRef.current = ws;\n  };\n\n  const handleJoinChat = (e) => {\n    e.preventDefault();\n    if (user.trim()) {\n      setShowNamePrompt(false);\n      connectWebSocket(user.trim());\n    }\n  };\n\n  const sendMessage = () => {\n    if (message.trim() && wsRef.current && wsRef.current.readyState === WebSocket.OPEN) {\n      wsRef.current.send(message);\n      setMessage('');\n    }\n  };\n\n  const handleKeyPress = (e) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      sendMessage();\n    }\n  };\n\n  if (showNamePrompt) {\n    return (\n      <div className=\"name-prompt-overlay\">\n        <div className=\"name-prompt-card\">\n          <div className=\"name-prompt-header\">\n            <div className=\"whatsapp-logo\">\n              <svg viewBox=\"0 0 24 24\" width=\"48\" height=\"48\">\n                <path fill=\"#25D366\" d=\"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z\"/>\n              </svg>\n            </div>\n            <h2>Welcome to Chat</h2>\n            <p>Enter your name to join the conversation</p>\n          </div>\n          <form onSubmit={handleJoinChat}>\n            <input\n              type=\"text\"\n              placeholder=\"Your name\"\n              value={user}\n              onChange={(e) => setUser(e.target.value)}\n              autoFocus\n              maxLength={20}\n            />\n            <button type=\"submit\">Join Chat</button>\n          </form>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"app\">\n      {/* Sidebar */}\n      <div className=\"sidebar\">\n        <div className=\"sidebar-header\">\n          <div className=\"user-avatar\">{user.charAt(0).toUpperCase()}</div>\n          <div className=\"sidebar-icons\">\n            <button className=\"icon-btn\" title=\"Status\">\n              <svg viewBox=\"0 0 24 24\" width=\"24\" height=\"24\">\n                <path fill=\"currentColor\" d=\"M12 20.664a9.163 9.163 0 0 1-6.521-2.702.977.977 0 0 1 1.381-1.381 7.269 7.269 0 0 0 10.024.244.977.977 0 0 1 1.313 1.445A9.192 9.192 0 0 1 12 20.664zm7.965-6.112a.977.977 0 0 1-.944-1.229 7.26 7.26 0 0 0-4.8-8.804.977.977 0 0 1 .594-1.86 9.212 9.212 0 0 1 6.092 11.169.976.976 0 0 1-.942.724zm-16.025-.39a.977.977 0 0 1-.953-.769 9.21 9.21 0 0 1 6.626-10.86.975.975 0 1 1 .52 1.882l-.015.004a7.259 7.259 0 0 0-5.223 8.558.978.978 0 0 1-.955 1.185z\"/>\n              </svg>\n            </button>\n            <button className=\"icon-btn\" title=\"New chat\">\n              <svg viewBox=\"0 0 24 24\" width=\"24\" height=\"24\">\n                <path fill=\"currentColor\" d=\"M19.005 3.175H4.674C3.642 3.175 3 3.789 3 4.821V21.02l3.544-3.514h12.461c1.033 0 2.064-1.06 2.064-2.093V4.821c-.001-1.032-1.032-1.646-2.064-1.646zm-4.989 9.869H7.041V11.1h6.975v1.944zm3-4H7.041V7.1h9.975v1.944z\"/>\n              </svg>\n            </button>\n            <button className=\"icon-btn\" title=\"Menu\">\n              <svg viewBox=\"0 0 24 24\" width=\"24\" height=\"24\">\n                <path fill=\"currentColor\" d=\"M12 7a2 2 0 1 0-.001-4.001A2 2 0 0 0 12 7zm0 2a2 2 0 1 0-.001 3.999A2 2 0 0 0 12 9zm0 6a2 2 0 1 0-.001 3.999A2 2 0 0 0 12 15z\"/>\n              </svg>\n            </button>\n          </div>\n        </div>\n        \n        <div className=\"search-bar\">\n          <div className=\"search-input-wrapper\">\n            <svg viewBox=\"0 0 24 24\" width=\"24\" height=\"24\" className=\"search-icon\">\n              <path fill=\"currentColor\" d=\"M15.009 13.805h-.636l-.22-.219a5.184 5.184 0 0 0 1.256-3.386 5.207 5.207 0 1 0-5.207 5.208 5.183 5.183 0 0 0 3.385-1.255l.221.22v.635l4.004 3.999 1.194-1.195-3.997-4.007zm-4.808 0a3.605 3.605 0 1 1 0-7.21 3.605 3.605 0 0 1 0 7.21z\"/>\n            </svg>\n            <input type=\"text\" placeholder=\"Search or start new chat\" />\n          </div>\n        </div>\n\n        <div className=\"chat-list\">\n          <div className=\"chat-item active\">\n            <div className=\"chat-avatar\">R</div>\n            <div className=\"chat-info\">\n              <div className=\"chat-header-row\">\n                <h3>{chatId}</h3>\n                <span className=\"chat-time\">now</span>\n              </div>\n              <div className=\"chat-preview\">\n                <span className={`status-dot ${isConnected ? 'connected' : 'disconnected'}`}></span>\n                {isConnected ? 'Connected' : 'Disconnected'}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Main Chat Area */}\n      <div className=\"main-chat\">\n        <div className=\"chat-header\">\n          <div className=\"chat-header-info\">\n            <div className=\"chat-avatar\">R</div>\n            <div>\n              <h2>{chatId}</h2>\n              <p className=\"online-status\">\n                {isTyping ? 'typing...' : isConnected ? 'online' : 'offline'}\n              </p>\n            </div>\n          </div>\n          <div className=\"chat-header-actions\">\n            <button className=\"icon-btn\" title=\"Search\">\n              <svg viewBox=\"0 0 24 24\" width=\"24\" height=\"24\">\n                <path fill=\"currentColor\" d=\"M15.009 13.805h-.636l-.22-.219a5.184 5.184 0 0 0 1.256-3.386 5.207 5.207 0 1 0-5.207 5.208 5.183 5.183 0 0 0 3.385-1.255l.221.22v.635l4.004 3.999 1.194-1.195-3.997-4.007zm-4.808 0a3.605 3.605 0 1 1 0-7.21 3.605 3.605 0 0 1 0 7.21z\"/>\n              </svg>\n            </button>\n            <button className=\"icon-btn\" title=\"More\">\n              <svg viewBox=\"0 0 24 24\" width=\"24\" height=\"24\">\n                <path fill=\"currentColor\" d=\"M12 7a2 2 0 1 0-.001-4.001A2 2 0 0 0 12 7zm0 2a2 2 0 1 0-.001 3.999A2 2 0 0 0 12 9zm0 6a2 2 0 1 0-.001 3.999A2 2 0 0 0 12 15z\"/>\n              </svg>\n            </button>\n          </div>\n        </div>\n\n        <div className=\"chat-background\">\n          <div className=\"chat-messages\" ref={chatBoxRef}>\n            {messages.map((msg, index) => (\n              <div key={index} className={`message ${msg.user === user ? 'sent' : 'received'}`}>\n                {msg.user !== user && <div className=\"message-sender\">{msg.user}</div>}\n                <div className=\"message-content\">\n                  <span>{msg.message}</span>\n                  <span className=\"message-time\">{msg.timestamp}</span>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        <div className=\"chat-footer\">\n          <button className=\"icon-btn\" title=\"Emoji\">\n            <svg viewBox=\"0 0 24 24\" width=\"24\" height=\"24\">\n              <path fill=\"currentColor\" d=\"M9.153 11.603c.795 0 1.439-.879 1.439-1.962s-.644-1.962-1.439-1.962-1.439.879-1.439 1.962.644 1.962 1.439 1.962zm-3.204 1.362c-.026-.307-.131 5.218 6.063 5.551 6.066-.25 6.066-5.551 6.066-5.551-6.078 1.416-12.129 0-12.129 0zm11.363 1.108s-.669 1.959-5.051 1.959c-3.505 0-5.388-1.164-5.607-1.959 0 0 5.912 1.055 10.658 0zM11.804 1.011C5.609 1.011.978 6.033.978 12.228s4.826 10.761 11.021 10.761S23.02 18.423 23.02 12.228c.001-6.195-5.021-11.217-11.216-11.217zM12 21.354c-5.273 0-9.381-3.886-9.381-9.159s3.942-9.548 9.215-9.548 9.548 4.275 9.548 9.548c-.001 5.272-4.109 9.159-9.382 9.159zm3.108-9.751c.795 0 1.439-.879 1.439-1.962s-.644-1.962-1.439-1.962-1.439.879-1.439 1.962.644 1.962 1.439 1.962z\"/>\n            </svg>\n          </button>\n          <button className=\"icon-btn\" title=\"Attach\">\n            <svg viewBox=\"0 0 24 24\" width=\"24\" height=\"24\">\n              <path fill=\"currentColor\" d=\"M1.816 15.556v.002c0 1.502.584 2.912 1.646 3.972s2.472 1.647 3.974 1.647a5.58 5.58 0 0 0 3.972-1.645l9.547-9.548c.769-.768 1.147-1.767 1.058-2.817-.079-.968-.548-1.927-1.319-2.698-1.594-1.592-4.068-1.711-5.517-.262l-7.916 7.915c-.881.881-.792 2.25.214 3.261.959.958 2.423 1.053 3.263.215l5.511-5.512c.28-.28.267-.722.053-.936l-.244-.244c-.191-.191-.567-.349-.957.04l-5.506 5.506c-.18.18-.635.127-.976-.214-.098-.097-.576-.613-.213-.973l7.915-7.917c.818-.817 2.267-.699 3.23.262.5.501.802 1.1.849 1.685.051.573-.156 1.111-.589 1.543l-9.547 9.549a3.97 3.97 0 0 1-2.829 1.171 3.975 3.975 0 0 1-2.83-1.173 3.973 3.973 0 0 1-1.172-2.828c0-1.071.415-2.076 1.172-2.83l7.209-7.211c.157-.157.264-.579.028-.814L11.5 4.36a.572.572 0 0 0-.834.018l-7.205 7.207a5.577 5.577 0 0 0-1.645 3.971z\"/>\n            </svg>\n          </button>\n          <div className=\"message-input-wrapper\">\n            <input\n              type=\"text\"\n              placeholder=\"Type a message\"\n              value={message}\n              onChange={(e) => setMessage(e.target.value)}\n              onKeyPress={handleKeyPress}\n            />\n          </div>\n          <button className=\"send-btn\" onClick={sendMessage} disabled={!message.trim()}>\n            <svg viewBox=\"0 0 24 24\" width=\"24\" height=\"24\">\n              <path fill=\"currentColor\" d=\"M1.101 21.757L23.8 12.028 1.101 2.3l.011 7.912 13.623 1.816-13.623 1.817-.011 7.912z\"/>\n            </svg>\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}